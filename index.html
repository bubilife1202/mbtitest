<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://mbtiexplain.netlify.app/">
    <title>상대방의 말, 진짜 의미는? - MBTI 대처법</title>
    <meta name="description" content="상대방이 '괜찮아'라고 할 때 진짜 의미와 대처법">
    <meta property="og:type" content="website">
    <meta property="og:title" content="상대방의 말, 진짜 의미는? - MBTI 대처법">
    <meta property="og:description" content="MBTI별 진짜 속마음과 올바른 대처법을 알려드립니다">
    <meta property="og:image" content="https://mbtiexplain.netlify.app/banner.png">
    <meta property="og:url" content="https://mbtiexplain.netlify.app/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body class="container">
    <!-- 시작화면 -->
    <article class="start">
        <div class="warning-badge">💡 MBTI 대처법</div>
        <h1 class="mt-4 text-center">상대방의 말<br>진짜 의미는?</h1>
        <div class="example-box mt-4">
            <p class="example-quote">"괜찮아"</p>
            <div class="example-grid">
                <div class="example-item">
                    <div class="example-label">남자 ISTJ</div>
                    <div class="example-text">→ 정말 괜찮음</div>
                </div>
                <div class="example-item danger">
                    <div class="example-label">여자 INFP</div>
                    <div class="example-text">→ 전혀 안 괜찮음!</div>
                </div>
            </div>
        </div>
        <p class="text-center mt-4 description">
            <strong>성별 × MBTI에 따라 완전히 다른 의미!</strong><br>
            올바른 대처법을 알려드립니다
        </p>
        <button type="button" class="btn btn-danger btn-lg mt-4" onclick='showRelationship();'>시작하기</button>
    </article>

    <!-- 관계 선택 -->
    <article class="relationship-selector">
        <h2 class="mt-5 text-center">누구를 이해하고 싶나요?</h2>
        <div class="relationship-grid mt-4">
            <div class="relationship-card" onclick="selectRelationship('연인')">
                <div class="relationship-icon">💑</div>
                <div class="relationship-text">연인</div>
            </div>
            <div class="relationship-card" onclick="selectRelationship('친구')">
                <div class="relationship-icon">👥</div>
                <div class="relationship-text">친구</div>
            </div>
            <div class="relationship-card" onclick="selectRelationship('가족')">
                <div class="relationship-icon">👨‍👩‍👧‍👦</div>
                <div class="relationship-text">가족</div>
            </div>
            <div class="relationship-card" onclick="selectRelationship('동료')">
                <div class="relationship-icon">💼</div>
                <div class="relationship-text">동료</div>
            </div>
        </div>
    </article>

    <!-- 성별 선택 -->
    <article class="gender-selector">
        <h2 class="mt-5 text-center">상대방의 성별은?</h2>
        <p class="text-center mt-3">
            <span class="badge badge-info">관계: <span id="selected-relationship"></span></span>
        </p>
        <div class="gender-grid mt-4">
            <div class="gender-card" onclick="selectGender('남자')">
                <div class="gender-icon">👨</div>
                <div class="gender-text">남자</div>
            </div>
            <div class="gender-card" onclick="selectGender('여자')">
                <div class="gender-icon">👩</div>
                <div class="gender-text">여자</div>
            </div>
        </div>
        <button type="button" class="btn btn-secondary mt-4" onclick='goBackToRelationship();'>관계 다시 선택</button>
    </article>

    <!-- MBTI 선택 -->
    <article class="mbti-selector">
        <h2 class="mt-5 text-center">상대방의 MBTI는?</h2>
        <p class="text-center mt-3">
            <span class="badge badge-info"><span id="selected-gender"></span> <span id="selected-relationship-2"></span></span>
        </p>
        <p class="text-center text-muted">모르시면 <a href="https://www.16personalities.com/ko" target="_blank">여기서 테스트</a></p>

        <div class="mbti-grid mt-4">
            <button class="mbti-btn" onclick="selectMBTI('ISTJ')">
                <img src="ISTJ.jpg" alt="ISTJ">
                <span>ISTJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ISFJ')">
                <img src="ISFJ.jpg" alt="ISFJ">
                <span>ISFJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('INFJ')">
                <img src="INFJ.jpg" alt="INFJ">
                <span>INFJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('INTJ')">
                <img src="INTJ.jpg" alt="INTJ">
                <span>INTJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ISTP')">
                <img src="ISTP.jpg" alt="ISTP">
                <span>ISTP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ISFP')">
                <img src="ISFP.jpg" alt="ISFP">
                <span>ISFP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('INFP')">
                <img src="INFP.jpg" alt="INFP">
                <span>INFP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('INTP')">
                <img src="INTP.jpg" alt="INTP">
                <span>INTP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ESTP')">
                <img src="ESTP.jpg" alt="ESTP">
                <span>ESTP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ESFP')">
                <img src="ESFP.jpg" alt="ESFP">
                <span>ESFP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ENFP')">
                <img src="ENFP.jpg" alt="ENFP">
                <span>ENFP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ENTP')">
                <img src="ENTP.jpg" alt="ENTP">
                <span>ENTP</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ESTJ')">
                <img src="ESTJ.jpg" alt="ESTJ">
                <span>ESTJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ESFJ')">
                <img src="ESFJ.jpg" alt="ESFJ">
                <span>ESFJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ENFJ')">
                <img src="ENFJ.jpg" alt="ENFJ">
                <span>ENFJ</span>
            </button>
            <button class="mbti-btn" onclick="selectMBTI('ENTJ')">
                <img src="ENTJ.jpg" alt="ENTJ">
                <span>ENTJ</span>
            </button>
        </div>
        <button type="button" class="btn btn-secondary mt-4" onclick='goBackToGender();'>성별 다시 선택</button>
    </article>

    <!-- 문구 선택 -->
    <article class="phrase-selector">
        <h2 class="mt-5 text-center">상대방이 자주 하는 말은?</h2>
        <p class="text-center mt-3">
            <span class="badge badge-info">
                <span id="selected-gender-2"></span> <span id="selected-relationship-3"></span>
                (<span id="selected-mbti"></span>)
            </span>
        </p>

        <div class="phrase-list-dating mt-4">
            <div class="phrase-card" onclick="selectPhrase('괜찮아')">
                <div class="phrase-emoji">😶</div>
                <div class="phrase-text">"괜찮아"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('나 화 안 났어')">
                <div class="phrase-emoji">💢</div>
                <div class="phrase-text">"나 화 안 났어"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('네 맘대로 해')">
                <div class="phrase-emoji">😤</div>
                <div class="phrase-text">"네 맘대로 해"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('아무거나 좋아')">
                <div class="phrase-emoji">🤷</div>
                <div class="phrase-text">"아무거나 좋아"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('별로 안 바빠')">
                <div class="phrase-emoji">⏰</div>
                <div class="phrase-text">"별로 안 바빠"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('나중에 얘기하자')">
                <div class="phrase-emoji">🚫</div>
                <div class="phrase-text">"나중에 얘기하자"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('알아서 해')">
                <div class="phrase-emoji">😑</div>
                <div class="phrase-text">"알아서 해"</div>
            </div>
            <div class="phrase-card" onclick="selectPhrase('생각 좀 해볼게')">
                <div class="phrase-emoji">🤔</div>
                <div class="phrase-text">"생각 좀 해볼게"</div>
            </div>
        </div>

        <button type="button" class="btn btn-secondary mt-4" onclick='goBackToMBTI();'>MBTI 다시 선택</button>
    </article>

    <!-- 결과화면 -->
    <article class="result">
        <div class="result-header mt-4">
            <h2 class="result-title">"<span id="result-phrase"></span>"</h2>
            <p class="result-info">
                <span id="result-gender"></span> <span id="result-relationship"></span>
                (<span id="result-mbti"></span>)
            </p>
        </div>

        <!-- 진짜 의미 -->
        <div class="result-section mt-4">
            <h3 class="section-title">💡 진짜 의미</h3>
            <div class="meaning-card">
                <div id="true-meaning"></div>
            </div>
        </div>

        <!-- 대처법 -->
        <div class="result-section mt-4">
            <h3 class="section-title">✅ 이렇게 대처하세요</h3>
            <div class="solution-card do-card">
                <div class="solution-header">✅ 해야 할 것</div>
                <ul id="do-list"></ul>
            </div>
            <div class="solution-card dont-card mt-3">
                <div class="solution-header">❌ 하지 말아야 할 것</div>
                <ul id="dont-list"></ul>
            </div>
        </div>

        <!-- 액션 버튼 -->
        <div class="mt-5 text-center action-buttons">
            <button type="button" class="btn btn-primary" onclick='restart();'>다른 상황 보기</button>
            <button type="button" class="btn btn-success" onclick='shareResult();'>공유하기</button>
        </div>

        <div class="share addthis_inline_share_toolbox mt-4"></div>
    </article>

    <article class="kakao_ad mt-5">
        <ins class="kakao_ad_area" style="display:none;"
            data-ad-unit    = "DAN-GMmltHMuUP8Mt9J7"
            data-ad-width   = "320"
            data-ad-height  = "100"></ins>
    </article>

    <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <script src="data.js"></script>
    <script>
        let relationship = '';
        let gender = '';
        let mbti = '';
        let phrase = '';

        function showRelationship() {
            $(".start").hide();
            $(".relationship-selector").show();
        }

        function selectRelationship(rel) {
            relationship = rel;
            $("#selected-relationship").text(rel);
            $("#selected-relationship-2").text(rel);
            $("#selected-relationship-3").text(rel);
            $(".relationship-selector").hide();
            $(".gender-selector").show();
        }

        function goBackToRelationship() {
            $(".gender-selector").hide();
            $(".relationship-selector").show();
        }

        function selectGender(g) {
            gender = g;
            $("#selected-gender").text(g);
            $("#selected-gender-2").text(g);
            $(".gender-selector").hide();
            $(".mbti-selector").show();
        }

        function goBackToGender() {
            $(".mbti-selector").hide();
            $(".gender-selector").show();
        }

        function selectMBTI(m) {
            mbti = m;
            $("#selected-mbti").text(m);
            $(".mbti-selector").hide();
            $(".phrase-selector").show();
        }

        function goBackToMBTI() {
            $(".phrase-selector").hide();
            $(".mbti-selector").show();
        }

        function selectPhrase(p) {
            phrase = p;
            showResults();
        }

        function showResults() {
            // 결과 표시
            $("#result-phrase").text(phrase);
            $("#result-gender").text(gender);
            $("#result-relationship").text(relationship);
            $("#result-mbti").text(mbti);

            const data = phraseData[phrase][gender][mbti];

            $("#true-meaning").html(data.meaning);

            // Do list
            let doHTML = '';
            data.solution.do.forEach(item => {
                doHTML += `<li>${item}</li>`;
            });
            $("#do-list").html(doHTML);

            // Don't list
            let dontHTML = '';
            data.solution.dont.forEach(item => {
                dontHTML += `<li>${item}</li>`;
            });
            $("#dont-list").html(dontHTML);

            $(".phrase-selector").hide();
            $(".result").show();
            window.scrollTo(0, 0);
        }

        function restart() {
            relationship = '';
            gender = '';
            mbti = '';
            phrase = '';
            $(".result").hide();
            $(".start").show();
            window.scrollTo(0, 0);
        }

        function shareResult() {
            const text = `${gender} ${relationship}(${mbti})가 "${phrase}"라고 할 때 진짜 의미!\n\n💡 ${phraseData[phrase][gender][mbti].meaning}\n\n당신도 확인해보세요!\nhttps://mbtiexplain.netlify.app`;

            if (navigator.share) {
                navigator.share({
                    title: '상대방의 말, 진짜 의미는?',
                    text: text
                });
            } else {
                alert('공유할 내용:\n\n' + text);
            }
        }
    </script>

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ffd42a25cb08056"></script>
</body>
</html>
