// MBTI 성별별 문구 해석 및 대처법 데이터베이스
const phraseData = {
    "괜찮아": {
        "남자": {
            "ISTJ": {
                "meaning": "정말 괜찮음. 문제 있으면 직접 말했을 것.",
                "solution": {
                    "do": ["그대로 믿고 넘어가기", "다른 주제로 자연스럽게 전환"],
                    "dont": ["계속 캐묻기", "의심하는 태도 보이기"]
                }
            },
            "INFP": {
                "meaning": "괜찮지 않지만 말하기 싫음. 혼자 생각 정리 중.",
                "solution": {
                    "do": ["'혹시 얘기하고 싶으면 언제든 말해'라고 말하기", "혼자 있는 시간 주기", "30분~1시간 후 다시 물어보기"],
                    "dont": ["강제로 말하게 하기", "무시하고 넘어가기", "\"괜찮다며?\"라고 되묻기"]
                }
            },
            "INTJ": {
                "meaning": "문제 분석 완료. 혼자 해결 가능하다고 판단.",
                "solution": {
                    "do": ["믿고 기다리기", "필요할 때 도움 주겠다고 한마디만 하기"],
                    "dont": ["해결책 제시하기", "계속 신경쓰는 태도"]
                }
            },
            "ENTP": {
                "meaning": "괜찮은지 아닌지 논쟁하기 귀찮아서 일단 괜찮다고 함.",
                "solution": {
                    "do": ["가볍게 다른 주제로 전환", "재밌는 얘기로 분위기 전환"],
                    "dont": ["진지하게 파고들기", "\"진짜?\"라고 재확인"]
                }
            }
        },
        "여자": {
            "ISTJ": {
                "meaning": "90% 괜찮음. 단, 한 번 더 확인해주면 좋음.",
                "solution": {
                    "do": ["\"정말 괜찮아? 필요한 거 있어?\" 한 번 더 물어보기", "믿되 관심 표현하기"],
                    "dont": ["완전히 무시하기", "\"그래\"하고 바로 넘어가기"]
                }
            },
            "INFP": {
                "meaning": "전혀 괜찮지 않음! 위로받고 싶지만 직접 말하기 힘듦.",
                "solution": {
                    "do": ["\"무슨 일 있어? 얘기해줄래?\" 다정하게 물어보기", "안아주거나 손 잡아주기", "진심으로 경청하기"],
                    "dont": ["\"괜찮다며\"라고 되묻기", "그냥 넘어가기", "해결책만 제시하기"]
                }
            },
            "ESFJ": {
                "meaning": "괜찮지 않지만 분위기 깨기 싫어서 참는 중.",
                "solution": {
                    "do": ["\"나한테는 솔직하게 말해도 돼\"라고 안심시키기", "따로 조용한 곳에서 다시 물어보기"],
                    "dont": ["다른 사람들 앞에서 계속 물어보기", "무시하고 넘어가기"]
                }
            },
            "ENFJ": {
                "meaning": "당신 기분 배려해서 괜찮은 척. 실은 신경 쓰임.",
                "solution": {
                    "do": ["\"나는 괜찮으니까 솔직하게 말해\"라고 하기", "진심 어린 관심 표현"],
                    "dont": ["\"그래\"하고 넘어가기", "상대 배려를 당연하게 여기기"]
                }
            }
        }
    },
    "나 화 안 났어": {
        "남자": {
            "ISTJ": {
                "meaning": "진짜 안 화남. 화나면 직접 말했을 것.",
                "solution": {
                    "do": ["믿고 넘어가기", "평소처럼 대하기"],
                    "dont": ["계속 확인하기", "\"진짜?\"라고 재확인"]
                }
            },
            "INFP": {
                "meaning": "엄청 화남. 상처받음. 혼자 정리 중.",
                "solution": {
                    "do": ["\"미안해, 내가 뭘 잘못했는지 말해줄래?\" 진심으로 물어보기", "시간 주고 기다리기", "진심 어린 사과"],
                    "dont": ["\"화 안 났다며\"라고 되묻기", "논리로 설득하려 하기", "무시하기"]
                }
            },
            "ENTP": {
                "meaning": "화나진 않는데 토론하고 싶은 마음은 있음.",
                "solution": {
                    "do": ["\"어떤 점이 문제였어?\" 대화 열어주기", "논리적으로 대화하기"],
                    "dont": ["\"화났으면 화났다고 해\"라고 강요하기", "감정적으로 대응"]
                }
            }
        },
        "여자": {
            "ISFJ": {
                "meaning": "화났지만 참고 있음. 폭발 직전.",
                "solution": {
                    "do": ["\"화났으면 화내도 돼. 내가 들을게\" 안심시키기", "진심으로 사과하기", "구체적으로 뭐가 잘못됐는지 물어보기"],
                    "dont": ["\"화 안 났다며\"라고 되묻기", "가볍게 넘어가기", "변명하기"]
                }
            },
            "INFP": {
                "meaning": "엄청 화남. 상처받음. 혼자 울 예정.",
                "solution": {
                    "do": ["진심 어린 사과", "\"내가 어떻게 하면 좋을까?\" 물어보기", "혼자 있는 시간 준 뒤 다시 대화 시도"],
                    "dont": ["논리로 설득", "\"예민하네\"라고 하기", "그냥 넘어가기"]
                }
            },
            "ESFJ": {
                "meaning": "엄청 화남. 근데 분위기 깨기 싫어서 참음.",
                "solution": {
                    "do": ["\"미안해, 진짜 화났지?\" 솔직하게 인정하고 사과", "둘만 있을 때 진지하게 대화"],
                    "dont": ["다른 사람 앞에서 계속 물어보기", "무시하고 넘어가기"]
                }
            },
            "ENTJ": {
                "meaning": "화났지만 전략적으로 참는 중. 나중에 얘기할 것.",
                "solution": {
                    "do": ["\"지금 얘기하자. 나중으로 미루지 말고\"라고 제안", "해결 중심 대화"],
                    "dont": ["회피하기", "\"나중에 얘기하자\"고 미루기"]
                }
            }
        }
    },
    "네 맘대로 해": {
        "남자": {
            "ISTJ": {
                "meaning": "정말 네 선택 존중함. 맡긴 거임.",
                "solution": {
                    "do": ["책임감 있게 결정하기", "결과 공유하기"],
                    "dont": ["\"그래서 뭐가 좋아?\"라고 다시 물어보기"]
                }
            },
            "INTP": {
                "meaning": "합리적 선택이면 뭐든 OK. 진짜 상관없음.",
                "solution": {
                    "do": ["논리적으로 설명 가능한 선택하기", "결정 후 이유 설명"],
                    "dont": ["감정적 이유로 결정", "\"넌 뭐가 좋아?\" 떠넘기기"]
                }
            }
        },
        "여자": {
            "ISFP": {
                "meaning": "화났지만 싸우기 싫음.",
                "solution": {
                    "do": ["\"화났어? 미안해\" 먼저 사과", "\"같이 정하자\" 제안", "의견 물어보기"],
                    "dont": ["정말 맘대로 하기", "무시하고 진행"]
                }
            },
            "INFP": {
                "meaning": "엄청 서운함. 배려 없다고 느낌.",
                "solution": {
                    "do": ["\"농담이지? 같이 정하고 싶어\" 말하기", "진심으로 의견 물어보기", "사과하기"],
                    "dont": ["\"그래\"하고 정말 맘대로 하기", "\"왜 화났어?\"라고 되묻기"]
                }
            },
            "ESFJ": {
                "meaning": "삐짐. 같이 정하고 싶었는데...",
                "solution": {
                    "do": ["\"같이 정하자. 네 의견이 중요해\" 말하기", "진심으로 의견 구하기"],
                    "dont": ["혼자 결정하기", "\"네가 맘대로 하래잖아\"라고 하기"]
                }
            }
        }
    },
    "아무거나 좋아": {
        "남자": {
            "ISTJ": {
                "meaning": "정말 다 괜찮음.",
                "solution": {
                    "do": ["합리적으로 결정하기", "결과 공유"],
                    "dont": ["계속 물어보기"]
                }
            },
            "ISTP": {
                "meaning": "진짜 아무거나 상관없음.",
                "solution": {
                    "do": ["빨리 결정하기", "실용적인 선택"],
                    "dont": ["계속 의견 물어보기"]
                }
            }
        },
        "여자": {
            "ISFJ": {
                "meaning": "선호 있지만 맞춰주고 싶음.",
                "solution": {
                    "do": ["\"진짜 괜찮아? 네가 원하는 거 하자\" 여러 번 물어보기", "표정 살피기"],
                    "dont": ["바로 결정하기", "무시하고 진행"]
                }
            },
            "INFJ": {
                "meaning": "사실 원하는 거 있는데 말 안 함.",
                "solution": {
                    "do": ["선택지 2-3개 제시하고 고르게 하기", "\"이 중에 뭐가 제일 좋아?\" 구체적으로 물어보기"],
                    "dont": ["\"아무거나래\"하고 맘대로 정하기"]
                }
            }
        }
    },
    "별로 안 바빠": {
        "남자": {
            "ISTJ": {
                "meaning": "정말 안 바쁨. 스케줄에 여유 있음.",
                "solution": {
                    "do": ["편하게 부탁하기", "감사 표현"],
                    "dont": ["\"바쁜데 미안해\"라고 계속 말하기"]
                }
            }
        },
        "여자": {
            "ISFJ": {
                "meaning": "바쁘지만 널 도와주고 싶음.",
                "solution": {
                    "do": ["\"정말 괜찮아? 무리하지 마\" 확인", "나중에 꼭 보답하기"],
                    "dont": ["당연하게 여기기", "추가로 더 부탁하기"]
                }
            },
            "INFJ": {
                "meaning": "바쁘지만 넌 중요해서 시간 낼 수 있음.",
                "solution": {
                    "do": ["\"고마워, 네가 소중해\" 표현", "나중에 보답"],
                    "dont": ["당연하게 받아들이기"]
                }
            }
        }
    },
    "나중에 얘기하자": {
        "남자": {
            "ISTJ": {
                "meaning": "진짜 나중에 얘기함. 메모해둠.",
                "solution": {
                    "do": ["구체적 시간 정하기", "\"언제 얘기할까?\" 물어보기"],
                    "dont": ["\"지금 얘기하자\"고 강요"]
                }
            },
            "INTJ": {
                "meaning": "분석 시간 필요. 정리되면 얘기할 것.",
                "solution": {
                    "do": ["시간 주기", "\"정리되면 말해줘\" 기다리기"],
                    "dont": ["계속 캐묻기", "감정적으로 대응"]
                }
            }
        },
        "여자": {
            "INFJ": {
                "meaning": "지금은 정리 안 됨. 시간 필요.",
                "solution": {
                    "do": ["\"알았어, 준비되면 말해\" 존중", "혼자 생각할 시간 주기"],
                    "dont": ["\"왜? 지금 얘기하자\"고 강요", "무시하고 넘어가기"]
                }
            },
            "INFP": {
                "meaning": "감정 정리 시간 필요. 지금은 말하기 힘듦.",
                "solution": {
                    "do": ["\"천천히 생각해. 언제든 말해\" 안심시키기", "2-3시간 후 다시 물어보기"],
                    "dont": ["\"지금 당장 얘기해\"라고 압박", "\"뭐가 문제야\"라고 따지기"]
                }
            }
        }
    },
    "알아서 해": {
        "남자": {
            "ISTJ": {
                "meaning": "네 역량 믿음. 책임지고 해.",
                "solution": {
                    "do": ["책임감 있게 처리", "결과 보고"],
                    "dont": ["\"어떻게 해?\"라고 또 물어보기"]
                }
            },
            "ENTJ": {
                "meaning": "결과만 좋으면 됨. 과정은 네 재량.",
                "solution": {
                    "do": ["결과 중심으로 처리", "성과 보고"],
                    "dont": ["과정마다 확인 요청", "실패하기"]
                }
            }
        },
        "여자": {
            "INFP": {
                "meaning": "간섭하기 싫음. 네 자유 존중.",
                "solution": {
                    "do": ["\"의견 필요하면 언제든 말해\" 한마디만", "독립적으로 처리"],
                    "dont": ["계속 의견 물어보기", "보고 요구"]
                }
            }
        }
    },
    "생각 좀 해볼게": {
        "남자": {
            "ISTJ": {
                "meaning": "실제로 신중하게 생각해볼 것임.",
                "solution": {
                    "do": ["기다리기", "\"천천히 생각해\" 여유 주기"],
                    "dont": ["계속 재촉하기", "\"빨리 결정해\"라고 압박"]
                }
            },
            "INTP": {
                "meaning": "정말로 깊이 생각해볼 예정. 시간 좀 걸릴 듯.",
                "solution": {
                    "do": ["충분한 시간 주기", "추가 정보 제공"],
                    "dont": ["\"빨리 결정해\"라고 재촉", "감정적 압박"]
                }
            }
        },
        "여자": {
            "ISFJ": {
                "meaning": "거절하기 미안해서 일단 생각해본다고 함.",
                "solution": {
                    "do": ["\"부담 갖지 마. 안 된다고 해도 괜찮아\" 안심시키기", "압박 주지 않기"],
                    "dont": ["\"왜? 안 될 이유 있어?\" 따지기", "계속 설득하기"]
                }
            },
            "INFP": {
                "meaning": "생각이 너무 많아서 정리가 안 됨.",
                "solution": {
                    "do": ["선택지 줄여주기", "\"이것 아니면 저것\" 단순화", "시간 주기"],
                    "dont": ["\"빨리 결정해\" 재촉", "복잡하게 만들기"]
                }
            }
        }
    }
};

// 나머지 MBTI 타입에 대한 기본 데이터 (모든 조합을 채우기 위함)
const defaultMeaning = {
    "meaning": "준비 중입니다. 곧 업데이트 예정!",
    "solution": {
        "do": ["상대방의 평소 성격을 고려해서 대처하기", "진심으로 경청하기"],
        "dont": ["무시하기", "감정적으로 대응하기"]
    }
};

// 모든 문구, 성별, MBTI 조합에 기본값 채우기
const mbtiTypes = ['ISTJ', 'ISFJ', 'INFJ', 'INTJ', 'ISTP', 'ISFP', 'INFP', 'INTP',
                   'ESTP', 'ESFP', 'ENFP', 'ENTP', 'ESTJ', 'ESFJ', 'ENFJ', 'ENTJ'];
const genders = ['남자', '여자'];
const phrases = Object.keys(phraseData);

phrases.forEach(phrase => {
    genders.forEach(gender => {
        if (!phraseData[phrase][gender]) {
            phraseData[phrase][gender] = {};
        }
        mbtiTypes.forEach(mbti => {
            if (!phraseData[phrase][gender][mbti]) {
                phraseData[phrase][gender][mbti] = {...defaultMeaning};
            }
        });
    });
});
