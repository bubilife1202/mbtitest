// MBTI별 데이트 코스 추천
const dateData = {
    "ISTJ": {
        courses: [
            {
                title: "🏛️ 계획적인 문화 데이트",
                steps: ["유명 박물관/미술관 예약 관람", "근처 맛집 (예약 필수)", "공원 산책", "카페에서 하루 정리"]
            },
            {
                title: "🌳 자연 힐링 데이트",
                steps: ["등산 또는 숲길 트레킹", "정상에서 도시락", "근처 온천/찜질방", "저녁 식사"]
            },
            {
                title: "🎯 목적형 데이트",
                steps: ["가구점/생활용품점 쇼핑", "실용적인 물건 구매", "조용한 레스토랑", "영화 (사전 예약)"]
            }
        ],
        tips: {
            do: ["미리 계획 세우기", "예약 필수", "시간 여유 두기"],
            dont: ["즉흥적인 변경", "계획 없이 돌아다니기", "인파 많은 곳"]
        }
    },
    "ISFJ": {
        courses: [
            {
                title: "🏡 아늑한 홈카페 데이트",
                steps: ["함께 요리하기", "예쁜 테이블 세팅", "영화/드라마 보기", "디저트 만들기"]
            },
            {
                title: "🌸 감성 카페 투어",
                steps: ["예쁜 브런치 카페", "감성 서점", "플라워 카페", "루프탑 야경"]
            },
            {
                title: "📷 추억 만들기 데이트",
                steps: ["포토존 명소", "인생샷 촬영", "즉석 사진 프린트", "추억 앨범 만들기"]
            }
        ],
        tips: {
            do: ["따뜻한 분위기", "사진 많이 찍기", "감성적인 선물"],
            dont: ["너무 활동적", "사람 많은 곳", "서두르기"]
        }
    },
    "INFJ": {
        courses: [
            {
                title: "🎨 예술 감성 데이트",
                steps: ["독립 갤러리 전시 관람", "북카페에서 책 읽기", "재즈바/클래식 공연", "조용한 와인바"]
            },
            {
                title: "🌙 철학적 데이트",
                steps: ["고즈넉한 사찰/정원", "명상/요가 체험", "비건 레스토랑", "별보기 드라이브"]
            },
            {
                title: "📚 지적 탐구 데이트",
                steps: ["도서관/대형 서점", "인문학 강연", "독립서점 투어", "토론 카페"]
            }
        ],
        tips: {
            do: ["깊은 대화 나누기", "의미 찾기", "조용한 분위기"],
            dont: ["시끄러운 장소", "피상적 대화", "너무 많은 사람"]
        }
    },
    "INTJ": {
        courses: [
            {
                title: "🧠 지적 호기심 데이트",
                steps: ["과학관/천문대", "테크 전시회", "전문 서점", "보드게임 카페 (전략 게임)"]
            },
            {
                title: "⚙️ 효율적인 데이트",
                steps: ["쇼핑 (필요한 것만)", "맛집 (검증된 곳)", "영화 (사전 리뷰 확인)", "집 or 조용한 바"]
            },
            {
                title: "🎓 학습형 데이트",
                steps: ["전문 강연/세미나", "박물관 깊이 관람", "전문 서점", "조용한 레스토랑에서 토론"]
            }
        ],
        tips: {
            do: ["사전 리서치", "효율적 동선", "깊이 있는 대화"],
            dont: ["계획 없음", "시간 낭비", "감정 과잉"]
        }
    },
    "ISTP": {
        courses: [
            {
                title: "🏍️ 스릴 넘치는 데이트",
                steps: ["카트/바이크 라이딩", "클라이밍/볼더링", "맛집 (고기/술)", "게임센터"]
            },
            {
                title: "🔧 체험형 데이트",
                steps: ["공방 (금속/목공)", "VR 체험관", "드라이브", "호프집"]
            },
            {
                title: "🎮 쿨한 실내 데이트",
                steps: ["PC방/오락실", "당구/볼링", "맛있는 저녁", "술 한잔"]
            }
        ],
        tips: {
            do: ["액션 있는 활동", "자유로운 분위기", "실용적"],
            dont: ["감성 과다", "계획 빡빡", "대화만"]
        }
    },
    "ISFP": {
        courses: [
            {
                title: "🎨 창작 데이트",
                steps: ["도예/그림 공방", "꽃꽂이/향수 만들기", "감성 카페", "갤러리 투어"]
            },
            {
                title: "🌿 자연 속 데이트",
                steps: ["식물원/수목원", "꽃밭/정원", "피크닉", "야외 카페"]
            },
            {
                title: "📷 감성 사진 데이트",
                steps: ["예쁜 카페 투어", "포토존 명소", "폴라로이드 촬영", "루프탑 바"]
            }
        ],
        tips: {
            do: ["예쁜 장소", "창의적 활동", "여유로운 분위기"],
            dont: ["복잡한 계획", "너무 실용적", "단체 활동"]
        }
    },
    "INFP": {
        courses: [
            {
                title: "🌙 몽환적인 데이트",
                steps: ["야경 명소", "독립서점/북카페", "감성 전시회", "루프탑 별보기"]
            },
            {
                title: "📖 문학적 데이트",
                steps: ["헌책방 투어", "시집 읽기", "조용한 차 전문점", "문학의 집/작가 카페"]
            },
            {
                title: "✨ 감성 충전 데이트",
                steps: ["작은 갤러리", "감성 플리마켓", "비건 카페", "야외 영화제"]
            }
        ],
        tips: {
            do: ["감성 자극", "깊은 대화", "의미 찾기"],
            dont: ["현실적", "시끄러움", "대중적"]
        }
    },
    "INTP": {
        courses: [
            {
                title: "🧩 두뇌 게임 데이트",
                steps: ["방탈출 카페", "전략 보드게임 카페", "과학관", "조용한 술집에서 토론"]
            },
            {
                title: "🔬 탐구형 데이트",
                steps: ["박물관/과학관", "천문대", "전문 서점", "실험 공방"]
            },
            {
                title: "💻 편한 데이트",
                steps: ["북카페", "게임/애니 카페", "라멘집", "집에서 영화"]
            }
        ],
        tips: {
            do: ["지적 자극", "논리적 대화", "편안함"],
            dont: ["감성 과잉", "사교적", "계획 빡빡"]
        }
    },
    "ESTP": {
        courses: [
            {
                title: "⚡ 익스트림 데이트",
                steps: ["번지점프/스카이다이빙", "서핑/수상스포츠", "BBQ/고기집", "클럽/바"]
            },
            {
                title: "🏃 액티브 데이트",
                steps: ["클라이밍", "카트 레이싱", "핫플 맛집", "펍/스포츠바"]
            },
            {
                title: "🎉 핫플 투어 데이트",
                steps: ["유명 맛집", "인스타 명소", "신상 카페", "나이트라이프"]
            }
        ],
        tips: {
            do: ["스릴", "활동적", "즉흥적"],
            dont: ["조용함", "계획적", "실내만"]
        }
    },
    "ESFP": {
        courses: [
            {
                title: "🎉 파티형 데이트",
                steps: ["브런치 카페", "쇼핑", "노래방", "클럽/파티"]
            },
            {
                title: "📸 인생샷 데이트",
                steps: ["SNS 핫플 투어", "예쁜 카페 체인", "루프탑 바", "야경 명소"]
            },
            {
                title: "🛍️ 쇼핑 데이트",
                steps: ["패션 거리", "맛집 투어", "뷰티샵", "칵테일 바"]
            }
        ],
        tips: {
            do: ["재미", "트렌디", "활기참"],
            dont: ["조용함", "지루함", "계획적"]
        }
    },
    "ENFP": {
        courses: [
            {
                title: "✈️ 즉흥 여행 데이트",
                steps: ["당일치기 여행", "현지 맛집 탐방", "특별한 체험", "야경 보기"]
            },
            {
                title: "🎨 창의적 데이트",
                steps: ["팝업스토어 투어", "창작 워크샵", "독특한 카페", "재즈바/라이브 공연"]
            },
            {
                title: "🌈 다채로운 데이트",
                steps: ["플리마켓", "독립 갤러리", "페스티벌/축제", "루프탑 파티"]
            }
        ],
        tips: {
            do: ["새로운 경험", "자유로움", "대화"],
            dont: ["루틴", "지루함", "제약"]
        }
    },
    "ENTP": {
        courses: [
            {
                title: "🧠 지적 도전 데이트",
                steps: ["토론 카페", "방탈출", "전략 게임 대결", "와인바에서 논쟁"]
            },
            {
                title: "🎮 경쟁형 데이트",
                steps: ["e스포츠 경기장", "당구/볼링 대결", "퀴즈 펍", "게임 카페"]
            },
            {
                title: "🔬 실험적 데이트",
                steps: ["신기한 체험관", "독특한 레스토랑", "임프로비 공연", "특이한 바"]
            }
        ],
        tips: {
            do: ["지적 자극", "논쟁", "새로움"],
            dont: ["감성", "루틴", "지루함"]
        }
    },
    "ESTJ": {
        courses: [
            {
                title: "🏌️ 품격있는 데이트",
                steps: ["골프/승마", "고급 레스토랑", "와인바", "호텔 라운지"]
            },
            {
                title: "💼 생산적 데이트",
                steps: ["전시회 관람", "유명 맛집", "쇼핑 (필요한 것)", "집"]
            },
            {
                title: "🎯 계획적 데이트",
                steps: ["예약한 레스토랑", "뮤지컬/콘서트", "유명 카페", "스케줄대로 마무리"]
            }
        ],
        tips: {
            do: ["계획성", "품질", "효율"],
            dont: ["즉흥", "불확실", "시간 낭비"]
        }
    },
    "ESFJ": {
        courses: [
            {
                title: "💖 로맨틱 데이트",
                steps: ["예쁜 브런치 카페", "커플 사진 촬영", "맛집 투어", "루프탑 야경"]
            },
            {
                title: "🎀 감성 데이트",
                steps: ["플라워 카페", "디저트 맛집", "쇼핑", "커플 아이템 구매"]
            },
            {
                title: "👥 활기찬 데이트",
                steps: ["인기 맛집", "SNS 핫플", "노래방", "트렌디한 바"]
            }
        ],
        tips: {
            do: ["로맨틱", "사진", "분위기"],
            dont: ["혼자만", "무뚝뚝", "계획 없음"]
        }
    },
    "ENFJ": {
        courses: [
            {
                title: "💝 특별한 데이트",
                steps: ["서프라이즈 이벤트", "감동적인 공연", "로맨틱 레스토랑", "추억 영상 상영"]
            },
            {
                title: "🎭 문화 데이트",
                steps: ["뮤지컬/연극", "전시회", "감성 카페", "루프탑에서 대화"]
            },
            {
                title: "✈️ 로맨스 여행",
                steps: ["당일치기 여행", "현지 맛집", "예쁜 카페", "야경 명소"]
            }
        ],
        tips: {
            do: ["감동", "로맨스", "깊은 대화"],
            dont: ["무심함", "계획 없음", "혼자만"]
        }
    },
    "ENTJ": {
        courses: [
            {
                title: "🏆 고급 데이트",
                steps: ["미슐랭 레스토랑", "프라이빗 라운지", "고급 와인바", "호텔 스위트"]
            },
            {
                title: "⚡ 효율적 완벽 데이트",
                steps: ["예약한 맛집", "품질 좋은 쇼핑", "공연 (좋은 좌석)", "마무리 술"]
            },
            {
                title: "🎯 목표 달성형 데이트",
                steps: ["전시회/세미나", "유명 레스토랑", "투자 토론", "비즈니스 라운지"]
            }
        ],
        tips: {
            do: ["품질", "효율", "계획"],
            dont: ["즉흥", "저품질", "시간 낭비"]
        }
    }
};

// 데이트 코스 시작
function startDateRecommendation() {
    $("#date-person").text(personLabel);
    $("#date-mbti").text(mbti);

    showDateResult();
}

// 데이트 코스 결과 표시
function showDateResult() {
    const data = dateData[mbti];

    $("#date-person-label").text(personLabel);
    $("#date-mbti-label").text(mbti);

    // 데이트 코스들
    const coursesHTML = data.courses.map((course, idx) => `
        <div class="date-course-card">
            <h4 class="date-course-title">${course.title}</h4>
            <div class="date-course-steps">
                ${course.steps.map((step, i) => `
                    <div class="date-step">
                        <span class="step-number">${i + 1}</span>
                        <span class="step-text">${step}</span>
                    </div>
                `).join('')}
            </div>
        </div>
    `).join('');
    $("#date-courses-list").html(coursesHTML);

    // 데이트 팁
    const doHTML = data.tips.do.map(tip => `<li>✅ ${tip}</li>`).join('');
    const dontHTML = data.tips.dont.map(tip => `<li>❌ ${tip}</li>`).join('');
    $("#date-tips-do").html(doHTML);
    $("#date-tips-dont").html(dontHTML);

    $(".phrase-selector").hide();
    $(".date-result").show();
    window.scrollTo(0, 0);
}

// 데이트 코스에서 돌아가기
function backToPhrasesFromDate() {
    $(".date-result").hide();
    $(".phrase-selector").show();
    window.scrollTo(0, 0);
}

// 데이트 코스에서 처음으로
function restartFromDate() {
    $(".date-result").hide();
    $(".start").show();
    window.scrollTo(0, 0);
}
